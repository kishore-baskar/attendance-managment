{% extends 'base.html' %}
{% block content %}
<div class="centered-form-wrapper">
    <div class="form-container">
        <h2>Register</h2>
        <form method="POST" id="registerForm">
            <input type="text" name="username" placeholder="Username" required>
            <input type="email" name="email" placeholder="Email" required>
            <input type="password" name="password" placeholder="Password" required>
            <select name="role" id="roleSelect" required>
                <option value="">Select Role</option>
                <option value="student">Student</option>
                <option value="teacher">Teacher</option>
            </select>
            <input type="text" name="subject" id="subjectInput" placeholder="Subject (for teachers)" style="display:none;">
            <button type="submit">Register</button>
        </form>
        <p>Already have an account? <a href="/login">Login</a></p>
        {% if error %}<div class="error">{{ error }}</div>{% endif %}
    </div>
</div>
<script>
    const roleSelect = document.getElementById('roleSelect');
    const subjectInput = document.getElementById('subjectInput');
    roleSelect.addEventListener('change', function() {
        if (this.value === 'teacher') {
            subjectInput.style.display = 'block';
            subjectInput.required = true;
        } else {
            subjectInput.style.display = 'none';
            subjectInput.required = false;
        }
    });
</script>
{% endblock %} 